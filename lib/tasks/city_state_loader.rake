data = [{:city_name=>"ACEH", :meta=>[{:city=>"BANDA ACEH", :price=>25500}, {:city=>"BLANGPIDIE", :price=>43000}, {:city=>"CALANG", :price=>39000}, {:city=>"KUALA SIMPANG", :price=>44000}, {:city=>"LANGSA", :price=>38000}, {:city=>"LHOKSEUMAWE", :price=>37000}, {:city=>"LHOKSUKON", :price=>36000}, {:city=>"SABANG", :price=>37000}, {:city=>"SIGLI", :price=>35000}, {:city=>"SINABANG", :price=>56000}, {:city=>"SINGKIL", :price=>50000}, {:city=>"TAKENGON", :price=>36000}, {:city=>"TAPAK TUAN", :price=>45000}]}, {:city_name=>"KALBAR", :meta=>[{:city=>"BENGKAYANG", :price=>31000}, {:city=>"KETAPANG", :price=>34000}, {:city=>"MEMPAWAH", :price=>28000}, {:city=>"NGABANG", :price=>31500}, {:city=>"PONTIANAK", :price=>20000}, {:city=>"SAMBAS", :price=>33000}, {:city=>"SANGGAU", :price=>33500}, {:city=>"SINGKAWANG", :price=>29000}, {:city=>"SINTANG", :price=>34000}]}, {:city_name=>"PAPUA", :meta=>[{:city=>"BIAK", :price=>80000}, {:city=>"JAYAPURA", :price=>60000}, {:city=>"KAIMANA", :price=>91000}, {:city=>"MERAUKE", :price=>80000}, {:city=>"NABIRE", :price=>80000}, {:city=>"OKSIBIL", :price=>80000}, {:city=>"SARMI", :price=>80000}, {:city=>"SENTANI", :price=>90000}, {:city=>"SORONG", :price=>60000}, {:city=>"TEMBAGA PURA", :price=>85000}, {:city=>"TIMIKA", :price=>70000}, {:city=>"WAMENA", :price=>80000}]}, {:city_name=>"BALI", :meta=>[{:city=>"BANGLI", :price=>21000}, {:city=>"DENPASAR", :price=>15000}, {:city=>"TABANAN", :price=>23000}]}, {:city_name=>"KALSEL", :meta=>[{:city=>"AMUNTAI", :price=>31000}, {:city=>"BARABAI", :price=>31000}, {:city=>"BATU LICIN", :price=>32000}, {:city=>"KANDANGAN", :price=>31000}, {:city=>"MARABAHAN", :price=>33000}, {:city=>"RANTAU", :price=>32000}, {:city=>"SUNGAI DANAU", :price=>37000}, {:city=>"TANJUNG", :price=>32000}]}, {:city_name=>"RIAU", :meta=>[{:city=>"BANGKINANG", :price=>31500}, {:city=>"BENGKALIS", :price=>30000}, {:city=>"DUMAI", :price=>25500}, {:city=>"DURI", :price=>25000}, {:city=>"MINAS", :price=>26500}, {:city=>"PEKANBARU", :price=>19000}, {:city=>"RENGAT", :price=>32000}, {:city=>"SIAK INDRAPURA", :price=>32000}, {:city=>"TELUK KUANTAN", :price=>33000}, {:city=>"TEMBILAHAN", :price=>33000}, {:city=>"UJUNG BATU", :price=>31500}]}, {:city_name=>"BANGKA BELITUNG", :meta=>[]}, {:city_name=>"KALTENG", :meta=>[{:city=>"KASONGAN", :price=>30000}, {:city=>"KUALA KAPUAS", :price=>39000}, {:city=>"KUALA KURUN", :price=>46500}, {:city=>"KUALA PEMBUANG", :price=>47500}, {:city=>"MUARA TEWEH", :price=>37000}, {:city=>"PALANGKARAYA", :price=>23000}, {:city=>"PANGKALAN BUN", :price=>35000}, {:city=>"PULANG PISAU", :price=>45000}, {:city=>"PURUKCAHU", :price=>47500}, {:city=>"SAMPIT", :price=>35000}, {:city=>"SUKAMARA", :price=>45000}]}, {:city_name=>"SULBAR", :meta=>[{:city=>"MAJENE", :price=>43000}, {:city=>"MAMASA", :price=>45000}, {:city=>"MAMUJU", :price=>38000}, {:city=>"POLEWALI", :price=>46000}]}, {:city_name=>"BANTEN", :meta=>[{:city=>"BALARAJA", :price=>7000}, {:city=>"CILEGON", :price=>6500}, {:city=>"PANDEGLANG", :price=>9000}, {:city=>"SERANG", :price=>7500}, {:city=>"TANGERANG", :price=>5500}]}, {:city_name=>"KALTIM", :meta=>[{:city=>"BALIKPAPAN", :price=>28000}, {:city=>"BONTANG", :price=>35000}, {:city=>"LOA KULU", :price=>50000}, {:city=>"MALINAU", :price=>45000}, {:city=>"MUARA BADAK", :price=>44000}, {:city=>"NUNUKAN", :price=>45000}, {:city=>"PALARAN", :price=>40000}, {:city=>"SAMARINDA", :price=>31500}, {:city=>"SANGA SANGA", :price=>44000}, {:city=>"SEBATIK", :price=>46000}, {:city=>"TANAH GROGOT", :price=>50000}, {:city=>"TANJUNG SELOR", :price=>45000}, {:city=>"TARAKAN", :price=>36000}, {:city=>"TELUK PANDAN", :price=>41000}]}, {:city_name=>"SULSEL", :meta=>[{:city=>"BARRU", :price=>37000}, {:city=>"BULUKUMBA", :price=>37500}, {:city=>"ENREKANG", :price=>37000}, {:city=>"MAROS", :price=>31000}, {:city=>"MASAMBA", :price=>46000}, {:city=>"PALOPO", :price=>39000}, {:city=>"PINRANG", :price=>39500}, {:city=>"SENGKANG", :price=>39000}, {:city=>"SINJAI", :price=>42000}, {:city=>"SOROAKO", :price=>44500}, {:city=>"TAKALAR", :price=>32000}]}, {:city_name=>"BEGKULU", :meta=>[{:city=>"BENGKULU", :price=>17000}, {:city=>"CURUP", :price=>28000}, {:city=>"MANNA", :price=>30000}, {:city=>"TAIS", :price=>27000}]}, {:city_name=>"KEP.RIAU", :meta=>[{:city=>"BATAM", :price=>18500}, {:city=>"DABO SINGKEP", :price=>40000}, {:city=>"TANJUNG PINANG", :price=>26000}]}, {:city_name=>"SULTENG", :meta=>[{:city=>"LUWUK", :price=>46000}, {:city=>"PALU", :price=>30000}, {:city=>"POSO", :price=>44000}]}, {:city_name=>"DIY", :meta=>[{:city=>"BANTUL", :price=>13000}, {:city=>"JOGJA", :price=>12000}, {:city=>"SLEMAN", :price=>13500}, {:city=>"WONOSARI", :price=>16000}]}, {:city_name=>"LAMPUNG", :meta=>[{:city=>"BANDAR LAMPUNG", :price=>13000}, {:city=>"KALIANDA", :price=>23000}, {:city=>"KOTA AGUNG", :price=>25000}, {:city=>"LIWA", :price=>35000}, {:city=>"MENGGALA", :price=>35000}, {:city=>"METRO", :price=>21000}, {:city=>"PRINGSEWU", :price=>22000}, {:city=>"SUKADANA", :price=>22000}]}, {:city_name=>"SULTRA", :meta=>[{:city=>"KENDARI", :price=>33000}, {:city=>"KOLAKA", :price=>51000}, {:city=>"UNAAHA", :price=>50000}]}, {:city_name=>"GORONTALO", :meta=>[{:city=>"GORONTALO", :price=>34000}, {:city=>"LIMBOTO", :price=>44000}]}, {:city_name=>"MALUKU", :meta=>[{:city=>"AMBON", :price=>39000}]}, {:city_name=>"SULUT", :meta=>[{:city=>"BITUNG", :price=>44000}, {:city=>"MANADO", :price=>35000}, {:city=>"TOMOHON", :price=>41000}]}, {:city_name=>"JABAR", :meta=>[{:city=>"BANDUNG", :price=>8000}, {:city=>"BANJAR", :price=>15000}, {:city=>"BEKASI", :price=>6000}, {:city=>"BOGOR", :price=>6000}, {:city=>"CIAMIS", :price=>12000}, {:city=>"CIANJUR", :price=>9500}, {:city=>"CIBINONG", :price=>6500}, {:city=>"CIKARANG", :price=>7000}, {:city=>"CIMAHI", :price=>9000}, {:city=>"CIREBON", :price=>8000}, {:city=>"DEPOK", :price=>6000}, {:city=>"GARUT", :price=>10500}, {:city=>"INDRAMAYU", :price=>11000}, {:city=>"JATIBARANG", :price=>10000}, {:city=>"JATIWANGI", :price=>15000}, {:city=>"KADIPATEN", :price=>12000}, {:city=>"KARAWANG", :price=>7000}, {:city=>"KUNINGAN", :price=>11000}, {:city=>"LOSARI", :price=>16000}, {:city=>"MAJALENGKA", :price=>11000}, {:city=>"PALIMANAN", :price=>9000}, {:city=>"PURWAKARTA", :price=>7500}, {:city=>"SUBANG", :price=>9500}, {:city=>"SUKABUMI", :price=>8000}, {:city=>"SUMEDANG", :price=>13000}, {:city=>"TASIKMALAYA", :price=>11000}]}, {:city_name=>"MALUKU UTARA", :meta=>[{:city=>"AMBON", :price=>39000}]}, {:city_name=>"SUMBAR", :meta=>[{:city=>"BATU SANGKAR", :price=>20000}, {:city=>"LUBUK ALUNG", :price=>21000}, {:city=>"LUBUK BASUNG", :price=>32000}, {:city=>"LUBUK SIKAPING", :price=>32000}, {:city=>"PADANG", :price=>18000}, {:city=>"PADANG PANJANG", :price=>24000}, {:city=>"PAINAN", :price=>27000}, {:city=>"PARIAMAN", :price=>24000}, {:city=>"SOLOK", :price=>24000}]}, {:city_name=>"JAMBI", :meta=>[{:city=>"BANGKO", :price=>25500}, {:city=>"JAMBI", :price=>15000}, {:city=>"KUALA TUNGKAL", :price=>24500}, {:city=>"MUARA BULIAN", :price=>21000}, {:city=>"MUARA BUNGO", :price=>25500}, {:city=>"MUARA SABAK", :price=>36000}, {:city=>"MUARA TEBO", :price=>25500}, {:city=>"RAMBA", :price=>36000}, {:city=>"SAROLANGUN", :price=>25500}, {:city=>"SENGETI", :price=>36000}, {:city=>"SUNGAI PENUH", :price=>25500}]}, {:city_name=>"NTB", :meta=>[{:city=>"DOMPU", :price=>31500}, {:city=>"MATARAM", :price=>19000}]}, {:city_name=>"SUMSEL", :meta=>[{:city=>"BATURAJA", :price=>24500}, {:city=>"KAYU AGUNG", :price=>21500}, {:city=>"LAHAT", :price=>26000}, {:city=>"LUBUK LINGGAU", :price=>25000}, {:city=>"PAGAR ALAM", :price=>32000}, {:city=>"PALEMBANG", :price=>16000}, {:city=>"PRABUMULIH", :price=>25000}, {:city=>"SEKAYU", :price=>25000}, {:city=>"SUNGAI LILIN", :price=>28500}]}, {:city_name=>"JATENG", :meta=>[{:city=>"BOYOLALI", :price=>16000}, {:city=>"CILACAP", :price=>11000}, {:city=>"KEBUMEN", :price=>18000}, {:city=>"KLATEN", :price=>15000}, {:city=>"MAGELANG", :price=>14000}, {:city=>"MAJENANG", :price=>17000}, {:city=>"PURWOREJO", :price=>18000}, {:city=>"SEMARANG", :price=>12000}, {:city=>"SRAGEN", :price=>16000}, {:city=>"SUKOHARJO", :price=>15000}, {:city=>"TEGAL", :price=>17500}, {:city=>"TEMANGGUNG", :price=>18000}, {:city=>"UNGARAN", :price=>12000}, {:city=>"WONOGIRI", :price=>16000}, {:city=>"WONOSOBO", :price=>18000}]}, {:city_name=>"NTT", :meta=>[{:city=>"BAJAWA", :price=>50000}, {:city=>"ENDE", :price=>50000}, {:city=>"KUPANG", :price=>38000}, {:city=>"LABUAN BAJO", :price=>55000}, {:city=>"SOE", :price=>48000}, {:city=>"WAIKABUBAK", :price=>50000}, {:city=>"WAINGAPU", :price=>50000}]}, {:city_name=>"SUMUT", :meta=>[{:city=>"BALIGE", :price=>41000}, {:city=>"BINJAI", :price=>24000}, {:city=>"KISARAN", :price=>26000}, {:city=>"LAGUBOTI", :price=>44500}, {:city=>"LUBUK PAKAM", :price=>23000}, {:city=>"MEDAN", :price=>21000}, {:city=>"PADANG SIDEMPUAN", :price=>29000}, {:city=>"PANGURURAN", :price=>35000}, {:city=>"PANYAMBUNGAN", :price=>36000}, {:city=>"RANTAU PRAPAT", :price=>34000}, {:city=>"SALAK", :price=>36000}, {:city=>"SIBOLGA", :price=>30000}, {:city=>"SIDIKALANG", :price=>39000}, {:city=>"STABAT", :price=>23000}, {:city=>"TANJUNG BALAI ASAHAN", :price=>29000}, {:city=>"TANJUNG MORAWA", :price=>25000}, {:city=>"TARUTUNG", :price=>35000}]}, {:city_name=>"JATIM", :meta=>[{:city=>"BANGKALAN", :price=>30000}, {:city=>"BANYUWANGI", :price=>26000}, {:city=>"BATU", :price=>19000}, {:city=>"BLITAR", :price=>21000}, {:city=>"BONDOWOSO", :price=>23000}, {:city=>"CARUBAN", :price=>15000}, {:city=>"GRESIK", :price=>16000}, {:city=>"JEMBER", :price=>19000}, {:city=>"JOMBANG", :price=>18000}, {:city=>"KEDIRI", :price=>17000}, {:city=>"KEPANJEN", :price=>19000}, {:city=>"LAMONGAN", :price=>17000}, {:city=>"LUMAJANG", :price=>20000}, {:city=>"MADIUN", :price=>14000}, {:city=>"MAGETAN", :price=>16000}, {:city=>"MALANG", :price=>17000}, {:city=>"MOJOKERTO", :price=>17000}, {:city=>"NGANJUK", :price=>20000}, {:city=>"NGAWI", :price=>17000}, {:city=>"PACITAN", :price=>26500}, {:city=>"PAMEKASAN", :price=>28000}, {:city=>"PANDAAN", :price=>16000}, {:city=>"PASURUAN", :price=>18000}, {:city=>"PONOROGO", :price=>16000}, {:city=>"PROBOLINGGO", :price=>18000}, {:city=>"SAMPANG", :price=>30000}, {:city=>"SIDOARJO", :price=>14000}, {:city=>"SITUBONDO", :price=>25000}, {:city=>"SUMENEP", :price=>30000}, {:city=>"SURABAYA", :price=>13000}, {:city=>"TRENGGALEK", :price=>24500}, {:city=>"TUBAN", :price=>18000}]}]

namespace :city_state_loader do
	task :load => :environment do
		data.each do |dat|
			state = State.new(name: dat[:city_name])
			dat[:meta].each do |meta|
				city = City.new(name: meta[:city], delivery_cost: meta[:price])
				state.cities << city
			end
			state.save
		end		
	end

	task :load_jakarta => :environment do
		state = State.new(name: "JAKARTA")	
		state.cities << City.new(state: state, name: "JAKARTA SELATAN", delivery_cost: 0)
		state.cities <<  City.new(state: state, name: "JAKARTA BARAT", delivery_cost: 0)
		state.cities << City.new(state: state, name: "JAKARTA TIMUR", delivery_cost: 0)
		state.cities << City.new(state: state, name: "JAKARTA UTARA", delivery_cost: 0)
		state.cities << City.new(state: state, name: "JAKARTA PUSAT", delivery_cost: 0)
		state.save
	end
end
